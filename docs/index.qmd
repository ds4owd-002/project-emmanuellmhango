---
title: "My Project"
format: html
editor: visual
---

## Uganda Waterpoints

This dataset provides comprehensive information on **water points across Uganda**. This dataset is a free dataset shared through [The Humanitatian Data Exchange](https://data.humdata.org/dataset/wpdx_uga "Uganda Water points Data"). Each entry represents an individual water source, such as a well or a rainwater harvesting system, with associated details covering location, type, functionality, management, and usage.

Key attributes include:

-   **Geographical information:** Latitude, longitude, and administrative divisions (region, district, sub-county).

-   **Water source and technology:** The type of water source (e.g., protected well, rainwater harvesting) and the technology used.

-   **Operational status:** Whether the water point is functional or non-functional.

-   **Management and governance:** How the water point is managed (community-managed, fee-based, etc.) and the organization responsible.

-   **Installation and maintenance history:** Year of installation, rehabilitation records, and organizations involved.

-   **Population served:** The number of people served within the vicinity of the water point.

-   **Water quality indicators:** Includes parameters such as fecal contamination presence and subjective quality assessments.

-   **Proximity metrics:** Distances to urban centers, primary, secondary, and tertiary water sources.

**Analysis Goals:**\
The primary goals of analyzing this dataset are:

1.  **Monitoring and Evaluation (M&E):** Assess the operational status and functionality of water points across different regions to track performance, identify trends, and support evidence-based decision-making.

2.  **Risk Assessment:** Identify areas at higher risk of water point failure, contamination, or insufficient coverage to prioritize interventions, rehabilitation, and resource allocation.

This dataset serves as a detailed resource for monitoring water access and quality in Uganda, supporting strategic planning, management effectiveness assessment, and risk-informed decision-making for water infrastructure.

## Import

To load the data, you should first load the required libraries to use:

```{r}
library(tidyverse)
library(here)
library(lubridate)
```

Now, load your dataset like this

```{r}
#| echo: false
data <- read_csv(here::here("data/raw/wpdx_enhanced.csv"))
```

Now, we will write code to bring your data into a state where itâ€™s ready for analysis.

-   Rename columns with `rename()`

-   Select columns that are relevant with `select()`

-   Remove missing values with `filter()` or `drop_na()`

-   Join several dataframes with `left_join()`, `right_join()`, etc.

-   Create new variables with `mutate()`

```{r}
#| echo: false 
data <- data |>
   select(
    -c(
      prediction_yes_0y,
      prediction_yes_2y,
      prediction_no_0y,
      prediction_no_2y,
      clean_adm1,
      clean_adm2,
      clean_adm3,
      clean_adm4,
      activity_id,
      scheme_id,
      notes,
      wpdx_id,
      predicted_status_0y,
      predicted_status_2y,
      predicted_category
    )
  ) |>
  rename(water_source_type = water_source_clean) |>
  mutate(report_date = mdy(report_date)) |>
  mutate(report_date = format(report_date, "%d/%m/%Y"))
 
  colnames(data)
```

Save the processed data into a CSV file

```{r}
write_csv(data,
          here::here("data/processed/my-processed-data.csv"))
```
